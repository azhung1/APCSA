//Board

public class Board
{
  private Piece [][]array;
  public Board(boolean reset)
  {
    if (reset ==true)
    {
      reset();
    }
    else
    {
      array = new Piece[][]{
        {null,null,null,null,null,null,null,null},
        {null,null,null,null,null,null,null,null},
        {null,null,null,null,null,null,null,null},
        {null,null,null,null,null,null,null,null},
        {null,null,null,null,null,null,null,null},
        {null,null,null,null,null,null,null,null},
        {null,null,null,null,null,null,null,null},
        {null,null,null,null,null,null,null,null},
      };
    }
  }
  public Piece getPiece(Location n)
  {
    int pieceRow = n.getRow();
    int pieceCol = n.getCol();
    Piece p = array[pieceRow][pieceCol];
    return p;
  }
  public Piece placePiece(Piece p, Location f)
  {
    Piece oldPiece = getPiece(f);
    int newRow = f.getRow();
    int newCol = f.getCol();
    array[newRow][newCol] = p;
    return oldPiece;
  }
  public Location locationOf(Piece p)
  {
    for (int row = 0; row<8;row++)
    {
      for(int col = 0; col <8;col++)
      {
        if(array[row][col] == p)
        {
          return new Location(row,col);
        }
      }
    }
    return null;
  }
  public void reset()
  {
    array = new Piece[][]{
      {new Rook(false,this), new Knight(false, this), new Bishop(false, this), new Queen(false, this),
        new King(false,this), new Bishop(false, this), new Knight (false, this), new Rook(false, this)},
        {new Pawn(false,this),new Pawn(false,this),new Pawn(false,this),new Pawn(false,this),
          new Pawn(false,this),new Pawn(false,this),new Pawn(false,this),new Pawn(false,this)},
          {null,null,null,null,null,null,null,null},
          {null,null,null,null,null,null,null,null},
          {null,null,null,null,null,null,null,null},
          {null,null,null,null,null,null,null,null},
          {new Pawn(true,this),new Pawn(true,this),new Pawn(true,this),new Pawn(true,this),
            new Pawn(true,this),new Pawn(true,this),new Pawn(true,this),new Pawn(true,this)},
            {new Rook(true,this), new Knight(true, this), new Bishop(true, this), new King(true, this),
              new Queen(true,this), new Bishop(true, this), new Knight (true, this), new Rook(true, this)}
    };
  }
  public boolean isEmpty(Location n)
  {
    if(getPiece(n) == null)
      return true;
    return false;
  }
  public Piece movePiece(Location source, Location destination)
  {
    if(getPiece(source) == null)
    {
      throw new IllegalArgumentException("No Piece at Source");
    }
    if(getPiece(source).move(destination) == true)
    {
      placePiece(getPiece(source), destination);
      return removePiece(source);
      
    }
    if(getPiece(source).move(destination) == false)
    {
      
      throw new IllegalArgumentException("Invalid Move");
    }
    
    if(getPiece(source).isWhite() == getPiece(destination).isWhite())
    {
      
      throw new IllegalArgumentException("Invalid Move.  Cannot attempt to capture your own piece.");
    }
    
    
    return null;
  }
  public Piece removePiece(Location f)
  {
    Piece p;
    if (isEmpty(f) == true)
      return null;
    p = getPiece(f);
    array[f.getRow()][f.getCol()]=null;
    return p;
  }
  public boolean isValid(Location g)
  {
    if(g.getRow()>8&&g.getCol()<8)
    {
      return false;
    }
    return true;
  }
  public String toString()
  {
    String result = "";
    for(Piece[] arr: array)
    {
      for(Piece p : arr)
      {
        if(p == null)
        {
          result +=".";
        }
        else
        {
          result += p;
        }
        result += " ";
      }
      result += "\n";
    }
    return result;
  }
}




