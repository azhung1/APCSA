//MiniPaintPanel1

import javax.swing.*;
import java.awt.Color.*;
import java.awt.*;
import java.awt.event.*;
import java.util.*;
public class MiniPaintPanel1 extends JPanel
{
  private int currX, currY, oriX, oriY;
  private JButton Blue, Red, Yellow, Orange, Black,Line,Rectangle;
  private boolean line, rectangle;
  private String colors;
  ArrayList<Integer> A =new ArrayList<Integer>();
  ArrayList<String> Shape =new ArrayList<String>();
  ArrayList<String> pColors =new ArrayList<String>();
  public MiniPaintPanel1()
  {
    colors = "black";
    line = true;
    rectangle = false;
    
    oriX = 0;
    oriY = 0;
    currX = 0;
    currY = 0;
    
    Blue = new JButton ("Blue");
    Black = new JButton ("Black");
    Red = new JButton ("Red");
    Yellow = new JButton ("Yellow");
    Orange = new JButton ("Orange");
    
    add(Blue);
    add(Black);
    add(Red);
    add(Orange);
    add(Yellow);
    
    Rectangle = new JButton ("Rectangle");
    Line = new JButton ("Line");
    
    addMouseListener(new Mouse());
    
    Blue.addActionListener (new ButtonListener());//Waiting for the button to be pressed
    Black.addActionListener (new ButtonListener1());
    Red.addActionListener (new ButtonListener2());
    Orange.addActionListener (new ButtonListener3());
    Yellow.addActionListener (new ButtonListener4());
    Line.addActionListener(new ButtonListener5());
    Rectangle.addActionListener(new ButtonListener6());
    
    add(Blue);
    add(Black);
    add(Red);
    add(Orange);
    add(Yellow);
    add(Line);
    add(Rectangle);
  }
  public void paintComponent(Graphics g)
  {
    super.paintComponent(g);
    int j = 0;
    int i = 0;
    for(int a = 0;a<A.size();a+=4)
    {
      int oneX= (int)A.get(a);
      int oneY = (int)A.get(a+1);
      int twoX = (int)A.get(a+2);
      int twoY = (int)A.get(a+3);
      System.out.println(j);
      if (pColors.get(j).equals("blue"))
      {
        g.setColor(Color.BLUE);
      } 
      if (pColors.get(j).equals("black"))
      {
        g.setColor(Color.BLACK);
      }
      if (pColors.get(j).equals("red"))
      {
        g.setColor(Color.RED);
      }
      if (pColors.get(j).equals("orange"))
      {
        g.setColor(Color.ORANGE);
      }
      if (pColors.get(j).equals("yellow"))
      {
        g.setColor(Color.YELLOW);
      }
      if(Shape.get(i).equals("line"))
      {
        g.drawLine(oneX,oneY,twoX,twoY );
        i++;
        j++;
      }
      else if(Shape.get(i).equals("rectangle"))
      {
        g.drawLine(oneX, oneY, twoX, oneY);
        g.drawLine(twoX, oneY, twoX, twoY);
        g.drawLine(oneX, twoY, twoX, twoY);
        g.drawLine(oneX, oneY, oneX, twoY);
        i++;
        j++;
      }
    }
  }
  
  private class ButtonListener implements ActionListener//when the button is pressed
  {
    public void actionPerformed (ActionEvent event)
    {
      colors = "blue";
    }
  }
  private class ButtonListener1 implements ActionListener
  {
    public void actionPerformed (ActionEvent event)
    {
      colors = "black";
    }
  }
  private class ButtonListener2 implements ActionListener
  {
    public void actionPerformed (ActionEvent event)
    {
      colors = "red";
      
    }
  }
  private class ButtonListener3 implements ActionListener
  {
    public void actionPerformed (ActionEvent event)
    {
      colors = "orange";
    }
  }
  private class ButtonListener4 implements ActionListener
  {
    public void actionPerformed (ActionEvent event)
    {
      colors = "yellow";
    }
  }
  private class ButtonListener5 implements ActionListener
  {
    public void actionPerformed (ActionEvent event)
    {
      rectangle = false;
      line = true;
    }
  }
  private class ButtonListener6 implements ActionListener
  {
    public void actionPerformed (ActionEvent event)
    {
      line = false;
      rectangle = true;
    }
  }
  private class Mouse implements MouseListener
  {
    public void mousePressed(MouseEvent e)
    {
      oriX = e.getX();
      oriY = e.getY();   
      A.add(oriX);
      A.add(oriY);
    }
    public void mouseClicked(MouseEvent e) 
    {
    }
    public void mouseReleased(MouseEvent e)
    {
      currX = e.getX();
      currY = e.getY();
      A.add(currX);
      A.add(currY);
      if(line == true)
      {
        Shape.add("line");
        pColors.add(colors);
      }
      if(rectangle == true)
      {
        Shape.add("rectangle");
        pColors.add(colors);
      }
      repaint();
    }
    public void mouseEntered(MouseEvent e) 
    {
    }
    public void mouseExited(MouseEvent e) 
    {
    }
  }
}
